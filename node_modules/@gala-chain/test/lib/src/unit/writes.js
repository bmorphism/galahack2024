"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.writesMap = void 0;
function isRangedChainObject(record) {
    return typeof record["getRangedKey"] === "function";
}
function isDelete(record) {
    return typeof record["key"] === "string" && record["isDelete"] === true;
}
function isKV(record) {
    return typeof record["key"] === "string" && typeof record["value"] === "string";
}
function writesMap(...records) {
    return records.reduce((acc, record) => {
        if (isDelete(record)) {
            acc[record.key] = "";
        }
        else if (isKV(record)) {
            acc[record.key] = record.value;
        }
        else if (isRangedChainObject(record)) {
            acc[record.getRangedKey()] = record.serialize();
        }
        else {
            acc[record.getCompositeKey()] = record.serialize();
        }
        return acc;
    }, {});
}
exports.writesMap = writesMap;
//# sourceMappingURL=writes.js.map
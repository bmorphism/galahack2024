"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getValidationErrorInfo = void 0;
function getValidationErrorInfo(validationErrors) {
    const detailsArray = validationErrors.map((e) => {
        var _a, _b, _c;
        const targetInfo = typeof e.target === "object" ? ` of ${(_b = (_a = e.target.constructor) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : e.target}` : "";
        const intro = `Property '${e.property}'${targetInfo} has failed the following constraints:`;
        const constraints = (_c = e.constraints) !== null && _c !== void 0 ? _c : {};
        const constraintsKeys = Object.keys(constraints).sort();
        const details = constraintsKeys.map((k) => `${k}: ${constraints[k]}`);
        return { message: `${intro} ${constraintsKeys.join(", ")}`, details };
    });
    return {
        message: detailsArray.map((d) => d.message).join(". "),
        details: detailsArray.reduce((all, d) => [...all, ...d.details], [])
    };
}
exports.getValidationErrorInfo = getValidationErrorInfo;
